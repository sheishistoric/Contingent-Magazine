jQuery(document).ready(function(a){imageWidget={uploader:function(a,b){var c=wp.media({title:LargoImageWidget.frame_title,multiple:!1,library:{type:"image"},button:{text:LargoImageWidget.button_title}});return c.on("close",function(){var d=c.state().get("selection").toJSON();imageWidget.render(a,b,d[0])}),c.open(),!1},render:function(b,c,d){a("#"+c+"preview").html(imageWidget.imgHTML(d)),a("#"+c+"fields").slideDown(),a("#"+c+"attachment_id").val(d.id),a("#"+c+"imageurl").val(d.url),a("#"+c+"aspect_ratio").val(d.width/d.height),a("#"+c+"width").val(d.width),a("#"+c+"height").val(d.height),a("#"+c+"size").val("full"),a("#"+c+"custom_size_selector").slideDown(),imageWidget.toggleSizes(b,c),imageWidget.updateInputIfEmpty(c,"title",d.title),imageWidget.updateInputIfEmpty(c,"alt",d.alt),imageWidget.updateInputIfEmpty(c,"description",d.description),imageWidget.updateInputIfEmpty(c,"description",d.caption)},updateInputIfEmpty:function(b,c,d){var e=a("#"+b+c);""==e.val()&&e.val(d)},imgHTML:function(a){var b='<img src="'+a.url+'" ';return b+='width="'+a.width+'" ',b+='height="'+a.height+'" ',""!=a.alt&&(b+='alt="'+a.alt+'" '),b+="/>"},toggleSizes:function(b,c){"largo_image_widget_custom"==a("#"+c+"size").val()?a("#"+c+"custom_size_fields").slideDown():a("#"+c+"custom_size_fields").slideUp()},changeImgWidth:function(b,c){var d=a("#"+c+"aspect_ratio").val();if(d){var e=a("#"+c+"width").val(),f=Math.round(e/d);a("#"+c+"height").val(f)}},changeImgHeight:function(b,c){var d=a("#"+c+"aspect_ratio").val();if(d){var e=a("#"+c+"height").val(),f=Math.round(e*d);a("#"+c+"width").val(f)}}}});